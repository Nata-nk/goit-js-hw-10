{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\";\nconst input = document.querySelector('#datetime-picker');\nconst button = document.querySelector('.button');\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      timer.deadline = selectedDates[0];\n      console.log(timer.deadline);\n      \n      if (timer.deadline.getTime() < Date.now()) {\n          button.classList.remove(\"normal-button\");\n          return iziToast.show({\n    title: 'Error',\n    message: 'Please choose a date in the future',\n    position: 'topCenter',\n    color: 'red',\n});    \n      };\n      button.classList.add(\"normal-button\");\n      button.addEventListener('click', () => {\n          timer.start();\n      });\n  },\n};\n\nflatpickr(\"#datetime-picker\", options)\n\n\n\n\nconst timer = {\n  deadline: null,\n  intervalId: null,\n  elements: {\n    days: document.querySelector('[data-days]'),\n    hours: document.querySelector('[data-hours]'),\n    minutes: document.querySelector('[data-minutes]'),\n    seconds: document.querySelector('[data-seconds]'),\n  },\n\n  start() {\n    this.intervalId = setInterval(() => {\n      const ms = this.deadline - Date.now();\n\n      if (ms <= 0) {\n        this.stop();\n\n        return;\n      }\n\n      const timeComponents = this.getConvertMs(ms);\n\n      this.elements.days.textContent = this.addLeadingZero(timeComponents.days);\n      this.elements.hours.textContent = this.addLeadingZero(timeComponents.hours);\n      this.elements.minutes.textContent = this.addLeadingZero(timeComponents.minutes);\n      this.elements.seconds.textContent = this.addLeadingZero(timeComponents.seconds);\n    }, 1000);\n      button.classList.remove(\"normal-button\"); \n       button.addEventListener('click', () => {\n          timer.start();\n      });\n      input.disabled = true;\n    },\n\n  stop() {\n      clearInterval(this.intervalId);\n      input.disabled = false;\n  },\n\n  getConvertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n},\n\n  addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n  },\n};\n\n\n\n\n    // button.removeEventListener('click', start());\n"],"names":["input","button","options","selectedDates","timer","iziToast","flatpickr","ms","timeComponents","days","hours","minutes","seconds","value"],"mappings":"8IAEA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAInB,GAHAC,EAAM,SAAWD,EAAc,CAAC,EAChC,QAAQ,IAAIC,EAAM,QAAQ,EAEtBA,EAAM,SAAS,QAAS,EAAG,KAAK,IAAG,EACnC,OAAAH,EAAO,UAAU,OAAO,eAAe,EAChCI,EAAS,KAAK,CAC3B,MAAO,QACP,QAAS,qCACT,SAAU,YACV,MAAO,KACX,CAAC,EAEKJ,EAAO,UAAU,IAAI,eAAe,EACpCA,EAAO,iBAAiB,QAAS,IAAM,CACnCG,EAAM,MAAK,CACrB,CAAO,CACJ,CACH,EAEAE,EAAU,mBAAoBJ,CAAO,EAKrC,MAAME,EAAQ,CACZ,SAAU,KACV,WAAY,KACZ,SAAU,CACR,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CACjD,EAED,OAAQ,CACN,KAAK,WAAa,YAAY,IAAM,CAClC,MAAMG,EAAK,KAAK,SAAW,KAAK,IAAG,EAEnC,GAAIA,GAAM,EAAG,CACX,KAAK,KAAI,EAET,MACD,CAED,MAAMC,EAAiB,KAAK,aAAaD,CAAE,EAE3C,KAAK,SAAS,KAAK,YAAc,KAAK,eAAeC,EAAe,IAAI,EACxE,KAAK,SAAS,MAAM,YAAc,KAAK,eAAeA,EAAe,KAAK,EAC1E,KAAK,SAAS,QAAQ,YAAc,KAAK,eAAeA,EAAe,OAAO,EAC9E,KAAK,SAAS,QAAQ,YAAc,KAAK,eAAeA,EAAe,OAAO,CAC/E,EAAE,GAAI,EACLP,EAAO,UAAU,OAAO,eAAe,EACtCA,EAAO,iBAAiB,QAAS,IAAM,CACpCG,EAAM,MAAK,CACrB,CAAO,EACDJ,EAAM,SAAW,EAClB,EAEH,MAAO,CACH,cAAc,KAAK,UAAU,EAC7BA,EAAM,SAAW,EACpB,EAED,aAAaO,EAAI,CAMjB,MAAME,EAAO,KAAK,MAAMF,EAAK,KAAG,EAC1BG,EAAQ,KAAK,MAAOH,EAAK,MAAO,IAAI,EACpCI,EAAU,KAAK,MAAQJ,EAAK,MAAO,KAAQ,GAAM,EACjDK,EAAU,KAAK,MAASL,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAE,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,EAEE,eAAeC,EAAO,CACpB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACrC,CACH"}